# Quiz MVP — README по структуре (8 страниц)

## 1) Базовое правило: всего 8 страниц
В проекте используется ровно 8 страниц (routes):

- /quiz-0
- /quiz-1
- /quiz-2
- /quiz-3
- /quiz-4
- /quiz-5
- /quiz-6
- /quiz-7

Другие страницы квиза в MVP запрещены.

---

## 2) Правило навигации: страница = блок, шаги внутри страницы
- Одна страница = один блок квиза.
- Внутри страницы есть несколько **шагов / экранов** (2–5).
- Внутри страницы:
  - ✅ переключение шагов через локальное состояние
  - ❌ никаких редиректов
  - ❌ URL не меняется
- Между страницами:
  - ✅ переход на следующий блок = переход на следующий URL  
    (`/quiz-N` → `/quiz-(N+1)`)

---

## 3) Макет страницы (общий для всех)
Каждая страница `/quiz-*` использует единый базовый макет.

### Header (фиксированный)
- Логотип (слева)
- Индикатор прогресса (по центру или справа)
- Опционально: кнопка закрытия / выхода (справа)

### Body (основной контейнер)
- Заголовок (H1)
- Подзаголовок (опционально)
- Основной контент шага
- Основная CTA-кнопка  
  (фиксированная на мобильных, обычная на десктопе)
- Вторичная ссылка (опционально: «назад»)

### Footer (опционально)
- Дисклеймеры / гарантия / ссылка на политику конфиденциальности  
  (в зависимости от страницы)

---

## 4) Шаги внутри страницы (Stepper)
Правила stepper’а:
- 1 шаг = 1 полноценный экран (заголовок + ответы + CTA).
- Ответы — выбор одного варианта (radio).
- Максимум 4 варианта ответа.
- Переход к следующему шагу возможен только после выбора ответа.
- Кнопка «назад»:
  - разрешена внутри страницы (возврат к предыдущему шагу)
  - запрещена для переходов между страницами

Состояние:
- MVP: хранится только в памяти страницы.
- ❌ ответы не сохраняются в БД.
- Опционально: можно хранить номер шага в hash URL  
  (например `/quiz-2#step=3`) для UX при обновлении страницы.

---

## 5) UI-компоненты
Обязательные компоненты:
- `<ProgressBar/>` — общий прогресс квиза
- `<StepTitle/>`, `<StepSubtitle/>`
- `<AnswerList/>` с `<AnswerOption/>`
- `<PrimaryButton/>` (Далее / Продолжить)
- `<BackLink/>` (опционально)
- `<MediaBlock/>` (видео / изображение)

Правила:
- Один основной CTA на экран.
- Минимум отвлекающих элементов.
- Mobile-first.

---

## 6) Аналитика (минимум для MVP)
Отслеживаем только ключевые события.

События:
- page_view: quiz-0 .. quiz-7
- page_next: переход `/quiz-N` → `/quiz-(N+1)`
- step_view: шаг K внутри quiz-N (опционально)
- step_complete: шаг K завершён (выбран ответ)
- purchase_click (на /quiz-7)
- purchase_success (если доступно)

Основная метрика:
- `quiz-0 view → purchase_success`

---

## 7) Ассеты (видео / изображения) — источник правды
Все медиа-ассеты должны быть зафиксированы здесь  
(не хардкодить в коде).

### /quiz-0 (вход / хук)
- hero_video: `assets/video/quiz-0-hero.mp4` **(обязательно)**
- poster_image: `assets/img/quiz-0-poster.jpg` (опционально)
- fallback_image: `assets/img/quiz-0-fallback.jpg` (опционально)

### /quiz-1 .. /quiz-6
- по умолчанию без медиа (текст + ответы)
- при необходимости добавлять ассеты сначала здесь

### /quiz-7 (paywall)
- optional_badge_icon: `assets/img/guarantee-badge.svg` (опционально)

Правила для ассетов:
- Использовать MP4 (H.264) для максимальной совместимости.
- Обязательно добавлять poster для автозапуска видео на мобильных.
- Минимизировать размер файлов (быстрая загрузка).

---

## 8) Правило контента
README **не хранит тексты квиза**.

Тексты (вопросы, экраны, оффер):
- хранятся отдельно (Obsidian / content-файлы)
- могут меняться без изменения структуры

README хранит только:
- структуру страниц
- правила навигации
- правила stepper’а
- правила верстки
- аналитику
- маппинг ассетов

---

## 9) Ограничения MVP (НЕ НАРУШАТЬ)
- Ровно 8 страниц (`/quiz-0` … `/quiz-7`)
- Нет редиректов внутри страницы
- Шаги реализованы внутри страницы
- Ответы не сохраняются
- Один основной CTA на экран
